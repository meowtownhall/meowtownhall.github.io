(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,n,t){var i=t(29)(t(33),2),a=i[0],r=i[1],o=t(35),s=t(15),u=t(16);e.exports={convertIngredient:a,convertIngredientError:r,parseIngredient:o,defaultUnitDefinitions:s,defaultIngredientDefinitions:u}},function(e,n,t){e.exports={malformed:"Ingredient_malformed__2IUis typography_ignored__1iMGB",unitNotFound:"Ingredient_unitNotFound__1tZVF typography_mildError__1KRUa",ingredientNotFound:"Ingredient_ingredientNotFound__1332z typography_mildError__1KRUa",badQuantity:"Ingredient_badQuantity__eeLyl typography_mildError__1KRUa",badUnitDefinition:"Ingredient_badUnitDefinition__QJPdr typography_seriousError__-Ji9E",badIngredientDefinition:"Ingredient_badIngredientDefinition__CDLkR typography_seriousError__-Ji9E"}},function(e,n,t){e.exports={wrapper:"RecipeInput_wrapper__37iBa layout_flexWrap__3Mh7K",input:"RecipeInput_input__35sHT layout_flexChild__1EqL1",output:"RecipeInput_output__3wqnm layout_flexChild__1EqL1",inputField:"RecipeInput_inputField__1gbO2 layout_box__1kRdL"}},function(e,n,t){e.exports={wrapper:"RecipeDefinitionsInputs_wrapper__2v3u2 layout_flexWrap__3Mh7K",child:"RecipeDefinitionsInputs_child__1c4f3 layout_flexChild__1EqL1",showDefinitionsToggle:"RecipeDefinitionsInputs_showDefinitionsToggle__PkZAB"}},,,function(e,n,t){e.exports={definitionField:"DefinitionsInput_definitionField__31i53 layout_box__1kRdL",definitionFormatExample:"DefinitionsInput_definitionFormatExample__nVUDr typography_csvExample__3d_5u"}},,function(e){e.exports=[{unit:"t",mL:4.92892},{unit:"T",mL:14.7868},{unit:"floz",mL:29.5725},{unit:"c",mL:237},{unit:"pt",mL:473.176},{unit:"qt",mL:946.353},{unit:"gal",mL:3785.41},{unit:"L",mL:1e3}]},function(e){e.exports=[{name:"butter",density:.9586114185},{name:"milk",density:1.032903803},{name:"buttermilk",density:1.037696861},{name:"flour",density:.5112594232},{name:"sugar",density:.811522894},{name:"powdered sugar",density:.5112594232},{name:"brown sugar",density:.8108078959},{name:"salt",density:1.215799848},{name:"cocoa powder",density:.3408396155},{name:"baking powder",density:.9726203537},{name:"baking soda",density:.9134163392},{name:"vegetable oil",density:.9234623332},{name:"lard",density:.82},{name:"water",density:1}]},,,function(e,n,t){e.exports={convertedRecipe:"ConvertedRecipe_convertedRecipe__3TKC3 layout_box__1kRdL"}},function(e,n,t){e.exports=t(41)},,,,,function(e,n,t){},,function(e,n,t){},,,,,,function(e,n,t){var i=t(34),a=t(15),r=t(16),o={DIVIDE_BY_ZERO:"divide_by_zero",BAD_FORMAT:"bad_format",BAD_DEFINITION:"bad_definition",UNRECOGNIZED:"unrecognized"};e.exports=[function(e,n,t){1===arguments.length&&(n=r,t=a),2===arguments.length&&(t=a);var s,u=t.find(function(n){return n.unit===e.unit}),l=n.find(function(n){return n.name===e.name}),d={};try{s=i(e.quantity)}catch(f){if(f instanceof i.DivisionByZero)d.quantity=o.DIVIDE_BY_ZERO;else{if(!(f instanceof i.InvalidParameter))throw f;d.quantity=o.BAD_FORMAT}}for(var c in u?("number"!==typeof u.mL||isNaN(u.mL))&&(d.unit=o.BAD_DEFINITION):d.unit=o.UNRECOGNIZED,l?("number"!==typeof l.density||isNaN(l.density))&&(d.ingredient=o.BAD_DEFINITION):d.ingredient=o.UNRECOGNIZED,d)if(d[c])return{success:!1,errors:d};return{success:!0,result:{quantity:s.mul(l.density).mul(u.mL).round().toString(),unit:"g",name:l.name}}},o]},,function(e,n){e.exports=function(e){var n=/^((?:\d+ )?\d+[\/.]?\d*)([A-z]+) +(.+)$/,t=n.exec(e);return null!=t?{success:!0,result:{quantity:t[1],unit:t[2],name:t[3]}}:{success:!1,errorMessage:'provided string "'+e+'" cannot be parsed with regex '+n}}},,,,,,function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(18),o=t.n(r),s=(t(25),t(27),t(2)),u=t(3),l=t(6),d=t(4),c=t(5),f=t(1),h=t(7),p=t(9),m=t.n(p),g=t(8),_=t.n(g);function D(e){var n,t,i;return e.errors&&(e.errors.badQuantity&&(n=_.a.badQuantity),e.errors.unitNotFound&&(t=_.a.unitNotFound),e.errors.badUnitDefinition&&(t=_.a.badUnitDefinition),e.errors.ingredientNotFound&&(i=_.a.ingredientNotFound),e.errors.badIngredientDefinition&&(i=_.a.badIngredientDefinition)),a.a.createElement("div",null,a.a.createElement("span",{className:n},e.quantity),a.a.createElement("span",{className:t},e.unit)," ",a.a.createElement("span",{className:i},e.name))}function b(e){return a.a.createElement("div",null,a.a.createElement("span",{className:_.a.malformed},e.string))}var v=t(19),y=t.n(v);function E(e){var n=e.lines.split("\n").map(function(n,t){var i=Object(h.parseIngredient)(n);if(i.success){var r,o=i.result,s=Object(h.convertIngredient)(o,e.ingredientDefinitions,e.unitDefinitions);if(s.success)r=s.result;else{var u=s.errors;r={quantity:o.quantity,unit:o.unit,name:o.name,errors:{unitNotFound:u.unit===h.convertIngredientError.UNRECOGNIZED,ingredientNotFound:u.ingredient===h.convertIngredientError.UNRECOGNIZED,badQuantity:u.quantity,badUnitDefinition:u.unit===h.convertIngredientError.BAD_DEFINITION,badIngredientDefinition:u.ingredient===h.convertIngredientError.BAD_DEFINITION}}}return a.a.createElement(D,{key:t,quantity:r.quantity,unit:r.unit,name:r.name,errors:r.errors})}return a.a.createElement(b,{key:t,string:n})});return a.a.createElement("div",{className:y.a.convertedRecipe},n)}var I=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).state={value:e.value},t.handleChange=t.handleChange.bind(Object(f.a)(Object(f.a)(t))),t}return Object(c.a)(n,e),Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return a.a.createElement("div",{className:m.a.wrapper},a.a.createElement("div",{className:m.a.input},a.a.createElement("h2",null,"Recipe"),a.a.createElement("textarea",{spellCheck:"false",value:this.state.value,onChange:this.handleChange,className:m.a.inputField})),a.a.createElement("div",{className:m.a.output},a.a.createElement("h2",null,"Converted Recipe"),a.a.createElement(E,{lines:this.state.value,ingredientDefinitions:this.props.ingredientDefinitions,unitDefinitions:this.props.unitDefinitions})))}}]),n}(a.a.Component),C=t(10),O=t.n(C),N=t(12),j=t(13),k=t.n(j),w=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).handleChange=t.handleChange.bind(Object(f.a)(Object(f.a)(t))),t}return Object(c.a)(n,e),Object(u.a)(n,[{key:"handleChange",value:function(e){this.props.handleValueChange(e.target.value)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h2",null,this.props.kind," definitions"),a.a.createElement("p",{className:k.a.definitionFormatExample},this.props.csvFormat),a.a.createElement("textarea",{spellCheck:"false",onChange:this.handleChange,defaultValue:this.props.defaultValue,className:k.a.definitionField}))}}]),n}(a.a.Component),F=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).handleValueChange=t.handleValueChange.bind(Object(f.a)(Object(f.a)(t))),t}return Object(c.a)(n,e),Object(u.a)(n,[{key:"handleValueChange",value:function(e){this.props.handleDefinitionsChange(this.deserializeDefinitions(e))}},{key:"deserializeDefinitions",value:function(e){return e.split("\n").map(function(e){var n=e.split(","),t=Object(N.a)(n,2),i=t[0],a=t[1];return{unit:i,mL:a=Number.parseFloat(a,10)}})}},{key:"serializeDefinitions",value:function(e){return e.map(function(e){return e.unit+","+e.mL}).join("\n")}},{key:"render",value:function(){return a.a.createElement(w,{kind:"Unit",csvFormat:"unit,mL",defaultValue:this.serializeDefinitions(this.props.defaultDefinitions),handleValueChange:this.handleValueChange})}}]),n}(a.a.Component),R=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).handleValueChange=t.handleValueChange.bind(Object(f.a)(Object(f.a)(t))),t}return Object(c.a)(n,e),Object(u.a)(n,[{key:"handleValueChange",value:function(e){this.props.handleDefinitionsChange(this.deserializeDefinitions(e))}},{key:"deserializeDefinitions",value:function(e){return e.split("\n").map(function(e){var n=e.split(","),t=Object(N.a)(n,2),i=t[0],a=t[1];return{name:i,density:a=Number.parseFloat(a,10)}})}},{key:"serializeDefinitions",value:function(e){return e.map(function(e){return e.name+","+e.density}).join("\n")}},{key:"render",value:function(){return a.a.createElement(w,{kind:"Ingredient",csvFormat:"name,density",defaultValue:this.serializeDefinitions(this.props.defaultDefinitions),handleValueChange:this.handleValueChange})}}]),n}(a.a.Component),x=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).state={showDefinitions:!1},t.handleShowDefinitionsChange=t.handleShowDefinitionsChange.bind(Object(f.a)(Object(f.a)(t))),t}return Object(c.a)(n,e),Object(u.a)(n,[{key:"handleShowDefinitionsChange",value:function(e){this.setState({showDefinitions:e.target.checked})}},{key:"render",value:function(){var e=a.a.createElement("div",{className:O.a.wrapper},a.a.createElement("div",{className:O.a.child},a.a.createElement(F,{handleDefinitionsChange:this.props.handleUnitDefinitionsChange,defaultDefinitions:this.props.defaultUnitDefinitions})),a.a.createElement("div",{className:O.a.child},a.a.createElement(R,{handleDefinitionsChange:this.props.handleIngredientDefinitionsChange,defaultDefinitions:this.props.defaultIngredientDefinitions})));return a.a.createElement("div",null,a.a.createElement("div",{className:O.a.showDefinitionsToggle},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",value:this.state.showDefinitions,onChange:this.handleShowDefinitionsChange}),"Show unit/ingredient definitions")),this.state.showDefinitions?e:null)}}]),n}(a.a.Component),U=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).state={unitDefinitions:h.defaultUnitDefinitions,ingredientDefinitions:h.defaultIngredientDefinitions},t.handleUnitDefinitionsChange=t.handleUnitDefinitionsChange.bind(Object(f.a)(Object(f.a)(t))),t.handleIngredientDefinitionsChange=t.handleIngredientDefinitionsChange.bind(Object(f.a)(Object(f.a)(t))),t}return Object(c.a)(n,e),Object(u.a)(n,[{key:"handleUnitDefinitionsChange",value:function(e){this.setState({unitDefinitions:e})}},{key:"handleIngredientDefinitionsChange",value:function(e){this.setState({ingredientDefinitions:e})}},{key:"render",value:function(){var e=a.a.createElement("span",{role:"img","aria-label":"sparkle"},"\u2728");return a.a.createElement("div",null,a.a.createElement("h1",null,"Recipe Converter"),a.a.createElement("p",null,"Paste a recipe below and watch as it is ",e,"magically",e," converted from US volumetric units to grams!"),a.a.createElement(I,{value:"1/2c butter\n1c sugar\n2 eggs, beaten\n3 bananas, crushed\n1 1/2c flour\n1t baking soda\n1/2t salt\n1/2t vanilla",ingredientDefinitions:this.state.ingredientDefinitions,unitDefinitions:this.state.unitDefinitions}),a.a.createElement(x,{defaultUnitDefinitions:this.state.unitDefinitions,handleUnitDefinitionsChange:this.handleUnitDefinitionsChange,defaultIngredientDefinitions:this.state.ingredientDefinitions,handleIngredientDefinitionsChange:this.handleIngredientDefinitionsChange}))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[20,2,1]]]);
//# sourceMappingURL=main.b94f495f.chunk.js.map