{"version":3,"sources":["../../reconv-domain/src/index.js","components/recipe/Ingredient.module.css","components/recipe/RecipeInput.module.css","components/definitions/RecipeDefinitionsInputs.module.css","components/definitions/DefinitionsInput.module.css","components/recipe/ConvertedRecipe.module.css","../../reconv-domain/src/convertIngredient.js","../../reconv-domain/src/parseIngredient.js","components/recipe/Ingredient.js","components/recipe/ConvertedRecipe.js","components/recipe/RecipeInput.js","components/definitions/DefinitionsInput.js","components/definitions/UnitDefinitionsInput.js","components/definitions/IngredientDefinitionsInput.js","components/definitions/RecipeDefinitionsInputs.js","App.js","serviceWorker.js","index.js"],"names":["_require2","__webpack_require__","_slicedToArray","convertIngredient","convertIngredientError","parseIngredient","defaultUnitDefinitions","defaultIngredientDefinitions","module","exports","malformed","unitNotFound","ingredientNotFound","badQuantity","badUnitDefinition","badIngredientDefinition","wrapper","input","output","inputField","child","showDefinitionsToggle","definitionField","definitionFormatExample","convertedRecipe","Fraction","DIVIDE_BY_ZERO","BAD_FORMAT","BAD_DEFINITION","UNRECOGNIZED","ingredient","ingredient_definitions","unit_definitions","arguments","length","quantityFraction","resolvedUnit","find","unit_defintion","unit","resolvedIngredient","ingredient_definition","name","errors","quantity","e","DivisionByZero","InvalidParameter","attribute","mL","isNaN","density","success","result","mul","round","toString","string","re","matches","exec","errorMessage","Ingredient","props","quantityClassName","unitClassName","ingredientClassName","styles","react_default","a","createElement","className","MalformedIngredient","ConvertedRecipe","ingredients","lines","split","map","line","i","parseResult","parsedIngredient","convertResult","ingredientDefinitions","unitDefinitions","key","RecipeInput","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","event","setState","target","spellCheck","onChange","React","Component","DefinitionsInput","handleValueChange","kind","csvFormat","defaultValue","UnitDefinitionsInput","handleDefinitionsChange","deserializeDefinitions","_line$split","_line$split2","slicedToArray","Number","parseFloat","definitions","join","DefinitionsInput_DefinitionsInput","serializeDefinitions","defaultDefinitions","IngredientDefinitionsInput","RecipeDefinitionsInputs","showDefinitions","handleShowDefinitionsChange","checked","UnitDefinitionsInput_UnitDefinitionsInput","handleUnitDefinitionsChange","IngredientDefinitionsInput_IngredientDefinitionsInput","handleIngredientDefinitionsChange","type","App","sparkleEmoji","role","aria-label","RecipeInput_RecipeInput","RecipeDefinitionsInputs_RecipeDefinitionsInputs","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b94f495f.chunk.js","sourcesContent":["var _slicedToArray = require(\"/Users/max/Projects/js/reconv/reconv/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _require = require('./convertIngredient'),\n    _require2 = _slicedToArray(_require, 2),\n    convertIngredient = _require2[0],\n    convertIngredientError = _require2[1];\n\nvar parseIngredient = require('./parseIngredient');\n\nvar defaultUnitDefinitions = require('../data/units');\n\nvar defaultIngredientDefinitions = require('../data/ingredients');\n\nmodule.exports = {\n  convertIngredient: convertIngredient,\n  convertIngredientError: convertIngredientError,\n  parseIngredient: parseIngredient,\n  defaultUnitDefinitions: defaultUnitDefinitions,\n  defaultIngredientDefinitions: defaultIngredientDefinitions\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"malformed\":\"Ingredient_malformed__2IUis typography_ignored__1iMGB\",\"unitNotFound\":\"Ingredient_unitNotFound__1tZVF typography_mildError__1KRUa\",\"ingredientNotFound\":\"Ingredient_ingredientNotFound__1332z typography_mildError__1KRUa\",\"badQuantity\":\"Ingredient_badQuantity__eeLyl typography_mildError__1KRUa\",\"badUnitDefinition\":\"Ingredient_badUnitDefinition__QJPdr typography_seriousError__-Ji9E\",\"badIngredientDefinition\":\"Ingredient_badIngredientDefinition__CDLkR typography_seriousError__-Ji9E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RecipeInput_wrapper__37iBa layout_flexWrap__3Mh7K\",\"input\":\"RecipeInput_input__35sHT layout_flexChild__1EqL1\",\"output\":\"RecipeInput_output__3wqnm layout_flexChild__1EqL1\",\"inputField\":\"RecipeInput_inputField__1gbO2 layout_box__1kRdL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RecipeDefinitionsInputs_wrapper__2v3u2 layout_flexWrap__3Mh7K\",\"child\":\"RecipeDefinitionsInputs_child__1c4f3 layout_flexChild__1EqL1\",\"showDefinitionsToggle\":\"RecipeDefinitionsInputs_showDefinitionsToggle__PkZAB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"definitionField\":\"DefinitionsInput_definitionField__31i53 layout_box__1kRdL\",\"definitionFormatExample\":\"DefinitionsInput_definitionFormatExample__nVUDr typography_csvExample__3d_5u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"convertedRecipe\":\"ConvertedRecipe_convertedRecipe__3TKC3 layout_box__1kRdL\"};","var Fraction = require('fraction.js');\n\nvar defaultUnitDefinitions = require('../data/units');\n\nvar defaultIngredientDefinitions = require('../data/ingredients');\n\nvar convertIngredientError = {\n  DIVIDE_BY_ZERO: \"divide_by_zero\",\n  BAD_FORMAT: \"bad_format\",\n  BAD_DEFINITION: \"bad_definition\",\n  UNRECOGNIZED: \"unrecognized\"\n};\n\nfunction convertIngredient(ingredient, ingredient_definitions, unit_definitions) {\n  if (arguments.length === 1) {\n    ingredient_definitions = defaultIngredientDefinitions;\n    unit_definitions = defaultUnitDefinitions;\n  }\n\n  if (arguments.length === 2) {\n    unit_definitions = defaultUnitDefinitions;\n  }\n\n  var resolvedUnit = unit_definitions.find(function (unit_defintion) {\n    return unit_defintion.unit === ingredient.unit;\n  });\n  var resolvedIngredient = ingredient_definitions.find(function (ingredient_definition) {\n    return ingredient_definition.name === ingredient.name;\n  });\n  var errors = {};\n  var quantityFraction;\n\n  try {\n    quantityFraction = Fraction(ingredient.quantity);\n  } catch (e) {\n    if (e instanceof Fraction.DivisionByZero) {\n      errors.quantity = convertIngredientError.DIVIDE_BY_ZERO;\n    } else if (e instanceof Fraction.InvalidParameter) {\n      errors.quantity = convertIngredientError.BAD_FORMAT;\n    } else {\n      throw e;\n    }\n  }\n\n  if (!resolvedUnit) {\n    errors.unit = convertIngredientError.UNRECOGNIZED;\n  } else if (typeof resolvedUnit.mL !== 'number' || isNaN(resolvedUnit.mL)) {\n    errors.unit = convertIngredientError.BAD_DEFINITION;\n  }\n\n  if (!resolvedIngredient) {\n    errors.ingredient = convertIngredientError.UNRECOGNIZED;\n  } else if (typeof resolvedIngredient.density !== 'number' || isNaN(resolvedIngredient.density)) {\n    errors.ingredient = convertIngredientError.BAD_DEFINITION;\n  }\n\n  for (var attribute in errors) {\n    if (errors[attribute]) {\n      return {\n        success: false,\n        errors: errors\n      };\n    }\n  }\n\n  var convertedQuantity = quantityFraction.mul(resolvedIngredient.density).mul(resolvedUnit.mL).round().toString();\n  return {\n    success: true,\n    result: {\n      quantity: convertedQuantity,\n      unit: \"g\",\n      name: resolvedIngredient.name\n    }\n  };\n}\n\nmodule.exports = [convertIngredient, convertIngredientError];","function parseIngredient(string) {\n  var re = /^((?:\\d+ )?\\d+[/.]?\\d*)([A-z]+) +(.+)$/;\n  var matches = re.exec(string);\n\n  if (matches != null) {\n    return {\n      success: true,\n      result: {\n        quantity: matches[1],\n        unit: matches[2],\n        name: matches[3]\n      }\n    };\n  } else {\n    return {\n      success: false,\n      errorMessage: 'provided string \"' + string + '\" cannot be parsed with regex ' + re\n    };\n  }\n}\n\nmodule.exports = parseIngredient;","import React from 'react';\nimport styles from './Ingredient.module.css';\n\nexport function Ingredient(props) {\n  let quantityClassName, unitClassName, ingredientClassName;\n  if (props.errors) {\n    if (props.errors.badQuantity) {\n      quantityClassName = styles.badQuantity;\n    }\n\n    if (props.errors.unitNotFound) {\n      unitClassName = styles.unitNotFound;\n    }\n    if (props.errors.badUnitDefinition) {\n      unitClassName = styles.badUnitDefinition;\n    }\n\n    if (props.errors.ingredientNotFound) {\n      ingredientClassName = styles.ingredientNotFound;\n    }\n    if (props.errors.badIngredientDefinition) {\n      ingredientClassName = styles.badIngredientDefinition;\n    }\n  }\n\n  return (\n    <div>\n      <span className={quantityClassName}>{props.quantity}</span><span className={unitClassName}>{props.unit}</span> <span className={ingredientClassName}>{props.name}</span>\n    </div>\n  );\n}\n\nexport function MalformedIngredient(props) {\n  return (\n    <div>\n      <span className={styles.malformed}>{props.string}</span>\n    </div>\n  );\n}\n","import React from 'react';\nimport {Ingredient, MalformedIngredient} from './Ingredient.js';\nimport { parseIngredient, convertIngredient, convertIngredientError } from 'reconv-domain';\nimport styles from \"./ConvertedRecipe.module.css\";\n\nexport default function ConvertedRecipe(props) {\n  const lines = props.lines;\n\n  const ingredients = lines.split(\"\\n\").map((line, i) => {\n    const parseResult = parseIngredient(line);\n    if (parseResult.success) {\n      let ingredient;\n      const parsedIngredient = parseResult.result;\n      const convertResult = convertIngredient(parsedIngredient, props.ingredientDefinitions, props.unitDefinitions);\n      if (convertResult.success) {\n        ingredient = convertResult.result;\n      } else {\n        const errors = convertResult.errors;\n\n        ingredient = {\n          quantity: parsedIngredient.quantity,\n          unit: parsedIngredient.unit,\n          name: parsedIngredient.name,\n          errors: {\n            unitNotFound: errors.unit === convertIngredientError.UNRECOGNIZED,\n            ingredientNotFound: errors.ingredient === convertIngredientError.UNRECOGNIZED,\n            badQuantity: errors.quantity, // no need to distinguish between BAD_FORMAT and DIVIDE_BY_ZERO yet\n            badUnitDefinition: errors.unit === convertIngredientError.BAD_DEFINITION,\n            badIngredientDefinition: errors.ingredient === convertIngredientError.BAD_DEFINITION,\n          }\n        }\n      }\n      return <Ingredient\n        key={i}\n        quantity={ingredient.quantity}\n        unit={ingredient.unit}\n        name={ingredient.name}\n        errors={ingredient.errors}\n        />;\n    } else {\n      return <MalformedIngredient key={i} string={line} />;\n    }\n  });\n\n  return (\n    <div className={styles.convertedRecipe}>\n      {ingredients}\n    </div>\n  );\n}\n\n","import React from 'react';\nimport styles from \"./RecipeInput.module.css\";\nimport ConvertedRecipe from './ConvertedRecipe.js';\n\nexport default class RecipeInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  render() {\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.input}>\n          <h2>Recipe</h2>\n          <textarea\n            spellCheck=\"false\"\n            value={this.state.value}\n            onChange={this.handleChange}\n            className={styles.inputField}\n          />\n        </div>\n        <div className={styles.output}>\n          <h2>Converted Recipe</h2>\n          <ConvertedRecipe\n            lines={this.state.value}\n            ingredientDefinitions={this.props.ingredientDefinitions}\n            unitDefinitions={this.props.unitDefinitions}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport styles from \"./DefinitionsInput.module.css\";\n\nexport default class DefinitionsInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.props.handleValueChange(event.target.value)\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>{this.props.kind} definitions</h2>\n        <p className={styles.definitionFormatExample}>{this.props.csvFormat}</p>\n        <textarea\n          spellCheck=\"false\"\n          onChange={this.handleChange}\n          defaultValue={this.props.defaultValue}\n          className={styles.definitionField}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport DefinitionsInput from \"./DefinitionsInput\";\n\nexport default class UnitDefinitionsInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleValueChange = this.handleValueChange.bind(this);\n  }\n\n  handleValueChange(value) {\n    this.props.handleDefinitionsChange(this.deserializeDefinitions(value));\n  }\n\n  deserializeDefinitions(string) {\n    return string.split(\"\\n\").map(line => {\n      let [unit, mL] = line.split(\",\");\n      mL = Number.parseFloat(mL, 10);\n      return { unit, mL };\n    });\n  }\n\n  serializeDefinitions(definitions) {\n    return definitions.map( (unit) => {\n      return unit.unit + \",\" + unit.mL\n    }).join(\"\\n\");\n  }\n\n  render() {\n    return (\n      <DefinitionsInput\n        kind=\"Unit\"\n        csvFormat=\"unit,mL\"\n        defaultValue={this.serializeDefinitions(this.props.defaultDefinitions)}\n        handleValueChange={this.handleValueChange}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport DefinitionsInput from \"./DefinitionsInput\";\n\nexport default class IngredientDefinitionsInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleValueChange = this.handleValueChange.bind(this);\n  }\n\n  handleValueChange(value) {\n    this.props.handleDefinitionsChange(this.deserializeDefinitions(value));\n  }\n\n  deserializeDefinitions(string) {\n    return string.split(\"\\n\").map(line => {\n      let [name, density] = line.split(\",\");\n      density = Number.parseFloat(density, 10);\n      return { name, density };\n    });\n  }\n\n  serializeDefinitions(definitions) {\n    return definitions.map( (ingredient) => {\n      return ingredient.name + \",\" + ingredient.density\n    }).join(\"\\n\");\n  }\n\n  render() {\n    return (\n      <DefinitionsInput\n        kind=\"Ingredient\"\n        csvFormat=\"name,density\"\n        defaultValue={this.serializeDefinitions(this.props.defaultDefinitions)}\n        handleValueChange={this.handleValueChange}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport styles from \"./RecipeDefinitionsInputs.module.css\";\nimport UnitDefinitionsInput from './UnitDefinitionsInput';\nimport IngredientDefinitionsInput from './IngredientDefinitionsInput';\n\nexport default class RecipeDefinitionsInputs extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDefinitions: false,\n    };\n    this.handleShowDefinitionsChange = this.handleShowDefinitionsChange.bind(this);\n  }\n\n  handleShowDefinitionsChange(event) {\n    this.setState({showDefinitions: event.target.checked});\n  }\n\n  render() {\n    let definitions = (\n      <div className={styles.wrapper}>\n        <div className={styles.child}>\n          <UnitDefinitionsInput\n            handleDefinitionsChange={this.props.handleUnitDefinitionsChange}\n            defaultDefinitions={this.props.defaultUnitDefinitions}\n          />\n        </div>\n\n        <div className={styles.child}>\n          <IngredientDefinitionsInput\n            handleDefinitionsChange={this.props.handleIngredientDefinitionsChange}\n            defaultDefinitions={this.props.defaultIngredientDefinitions}\n          />\n        </div>\n      </div>\n    );\n\n    return (\n      <div>\n        <div className={styles.showDefinitionsToggle}>\n          <label>\n            <input type=\"checkbox\" value={this.state.showDefinitions} onChange={this.handleShowDefinitionsChange} />\n            Show unit/ingredient definitions\n          </label>\n        </div>\n        { this.state.showDefinitions ? definitions : null}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { defaultIngredientDefinitions, defaultUnitDefinitions } from 'reconv-domain';\nimport RecipeInput from './components/recipe/RecipeInput.js';\nimport RecipeDefinitionsInputs from './components/definitions/RecipeDefinitionsInputs';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      unitDefinitions: defaultUnitDefinitions,\n      ingredientDefinitions: defaultIngredientDefinitions,\n    };\n    this.handleUnitDefinitionsChange = this.handleUnitDefinitionsChange.bind(this);\n    this.handleIngredientDefinitionsChange = this.handleIngredientDefinitionsChange.bind(this);\n  }\n\n  handleUnitDefinitionsChange(definitions) {\n    this.setState({unitDefinitions: definitions})\n  }\n\n  handleIngredientDefinitionsChange(definitions) {\n    this.setState({ingredientDefinitions: definitions})\n  }\n\n  render() {\n    let lines = \"1/2c butter\\n1c sugar\\n2 eggs, beaten\\n3 bananas, crushed\\n1 1/2c flour\\n1t baking soda\\n1/2t salt\\n1/2t vanilla\";\n    let sparkleEmoji = <span role=\"img\" aria-label=\"sparkle\">✨</span>;\n\n    return (\n      <div>\n        <h1>Recipe Converter</h1>\n        <p>\n          Paste a recipe below and watch as it is {sparkleEmoji}magically{sparkleEmoji} converted from US volumetric units to grams!\n        </p>\n\n        <RecipeInput\n          value={lines}\n          ingredientDefinitions={this.state.ingredientDefinitions}\n          unitDefinitions={this.state.unitDefinitions}\n        />\n\n        <RecipeDefinitionsInputs\n          defaultUnitDefinitions={this.state.unitDefinitions}\n          handleUnitDefinitionsChange={this.handleUnitDefinitionsChange}\n          defaultIngredientDefinitions={this.state.ingredientDefinitions}\n          handleIngredientDefinitionsChange={this.handleIngredientDefinitionsChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/normalize.css';\nimport './styles/base.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}