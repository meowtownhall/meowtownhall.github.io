(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,n,t){var i=t(30)(t(34),2),a=i[0],r=i[1],s=t(36),o=t(10),u=t(11);e.exports={convertIngredient:a,convertIngredientError:r,parseIngredient:s,defaultUnitDefinitions:o,defaultIngredientDefinitions:u}},,,,,,,,function(e){e.exports=[{unit:"t",mL:4.92892},{unit:"T",mL:14.7868},{unit:"floz",mL:29.5725},{unit:"c",mL:237},{unit:"pt",mL:473.176},{unit:"qt",mL:946.353},{unit:"gal",mL:3785.41},{unit:"L",mL:1e3},{unit:"BAD_DEFN",mL:null}]},function(e){e.exports=[{name:"butter",density:.9586114185},{name:"milk",density:1.032903803},{name:"buttermilk",density:1.037696861},{name:"flour",density:.5112594232},{name:"sugar",density:.811522894},{name:"powdered sugar",density:.5112594232},{name:"brown sugar",density:.8108078959},{name:"salt",density:1.215799848},{name:"cocoa powder",density:.3408396155},{name:"baking powder",density:.9726203537},{name:"baking soda",density:.9134163392},{name:"vegetable oil",density:.9234623332},{name:"lard",density:.82},{name:"water",density:1},{name:"BAD_DEFN",density:null}]},,function(e,n,t){e.exports=t(41)},,,,,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,,,,,function(e,n,t){var i=t(35),a=t(10),r=t(11),s={DIVIDE_BY_ZERO:"divide_by_zero",BAD_FORMAT:"bad_format",BAD_DEFINITION:"bad_definition",UNRECOGNIZED:"unrecognized"};e.exports=[function(e,n,t){1===arguments.length&&(n=r,t=a),2===arguments.length&&(t=a);var o,u=t.find(function(n){return n.unit===e.unit}),c=n.find(function(n){return n.name===e.name}),d={};try{o=i(e.quantity)}catch(f){if(f instanceof i.DivisionByZero)d.quantity=s.DIVIDE_BY_ZERO;else{if(!(f instanceof i.InvalidParameter))throw f;d.quantity=s.BAD_FORMAT}}for(var l in u?("number"!==typeof u.mL||isNaN(u.mL))&&(d.unit=s.BAD_DEFINITION):d.unit=s.UNRECOGNIZED,c?("number"!==typeof c.density||isNaN(c.density))&&(d.ingredient=s.BAD_DEFINITION):d.ingredient=s.UNRECOGNIZED,d)if(d[l])return{success:!1,errors:d};return{success:!0,result:{quantity:o.mul(c.density).mul(u.mL).round().toString(),unit:"g",name:c.name}}},s]},,function(e,n){e.exports=function(e){var n=/^((?:\d+ )?\d+[\/.]?\d*)([A-z]+) +(.+)$/,t=n.exec(e);return null!=t?{success:!0,result:{quantity:t[1],unit:t[2],name:t[3]}}:{success:!1,errorMessage:'provided string "'+e+'" cannot be parsed with regex '+n}}},function(e,n,t){},,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(12),s=t.n(r),o=(t(18),t(20),t(22),t(3)),u=t(4),c=t(7),d=t(5),l=t(6),f=(t(24),t(8)),m=t(1);t(26),t(28);function g(e){var n="ingredient";return e.errors&&(e.errors.unitNotFound&&(n+=" ingredient--unit-not-found"),e.errors.ingredientNotFound&&(n+=" ingredient--ingredient-not-found"),e.errors.badQuantity&&(n+=" ingredient--bad-quantity"),e.errors.badUnitDefinition&&(n+=" ingredient--bad-unit-definition"),e.errors.badIngredientDefinition&&(n+=" ingredient--bad-ingredient-definition")),a.a.createElement("div",{className:n},a.a.createElement("span",{className:"ingredient-quantity"},e.quantity),a.a.createElement("span",{className:"ingredient-unit"},e.unit)," ",a.a.createElement("span",{className:"ingredient-name"},e.name))}function h(e){return a.a.createElement("div",{className:"ingredient"},a.a.createElement("span",{className:"ingredient--malformed"},e.string))}var D=t(2);t(37);function p(e){var n=e.lines.split("\n").map(function(n,t){var i=Object(D.parseIngredient)(n);if(i.success){var r,s=i.result,o=Object(D.convertIngredient)(s,e.ingredientDefinitions,e.unitDefinitions);if(o.success)r=o.result;else{var u=o.errors;r={quantity:s.quantity,unit:s.unit,name:s.name,errors:{unitNotFound:u.unit===D.convertIngredientError.UNRECOGNIZED,ingredientNotFound:u.ingredient===D.convertIngredientError.UNRECOGNIZED,badQuantity:u.quantity,badUnitDefinition:u.unit===D.convertIngredientError.BAD_DEFINITION,badIngredientDefinition:u.ingredient===D.convertIngredientError.BAD_DEFINITION}}}return a.a.createElement(g,{key:t,quantity:r.quantity,unit:r.unit,name:r.name,errors:r.errors})}return a.a.createElement(h,{key:t,string:n})});return a.a.createElement("div",{className:"ingredient-list"},n)}var v=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(c.a)(this,Object(d.a)(n).call(this,e))).state={value:e.value},t.handleChange=t.handleChange.bind(Object(m.a)(Object(m.a)(t))),t}return Object(l.a)(n,e),Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return a.a.createElement("div",{className:"ingredient-list-input"},a.a.createElement("div",{className:"recipe-input"},a.a.createElement("h2",null,"Recipe"),a.a.createElement("textarea",{spellCheck:"false",value:this.state.value,onChange:this.handleChange})),a.a.createElement("div",{className:"recipe-output"},a.a.createElement("h2",null,"Converted Recipe"),a.a.createElement(p,{lines:this.state.value,ingredientDefinitions:this.props.ingredientDefinitions,unitDefinitions:this.props.unitDefinitions})))}}]),n}(a.a.Component),E=(t(39),function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(c.a)(this,Object(d.a)(n).call(this,e))).state={unitDefinitions:e.unitDefinitions,ingredientDefinitions:e.ingredientDefinitions},t.handleUnitDefinitionChange=t.handleUnitDefinitionChange.bind(Object(m.a)(Object(m.a)(t))),t.handleIngredientDefinitionChange=t.handleIngredientDefinitionChange.bind(Object(m.a)(Object(m.a)(t))),t}return Object(l.a)(n,e),Object(u.a)(n,[{key:"handleUnitDefinitionChange",value:function(e){this.setState({unitDefinitions:e.target.value})}},{key:"handleIngredientDefinitionChange",value:function(e){this.setState({ingredientDefinitions:e.target.value})}},{key:"deserializeUnitDefinitions",value:function(e){return e.split("\n").map(function(e){var n=e.split(","),t=Object(f.a)(n,2),i=t[0],a=t[1];return{unit:i,mL:a=Number.parseFloat(a,10)}})}},{key:"deserializeIngredientDefinitions",value:function(e){return e.split("\n").map(function(e){var n=e.split(","),t=Object(f.a)(n,2),i=t[0],a=t[1];return{name:i,density:a=Number.parseFloat(a,10)}})}},{key:"render",value:function(){return a.a.createElement("div",{className:"definition-input"},a.a.createElement("div",{className:"unit-definition-input"},a.a.createElement("h2",null,"Unit definitions"),a.a.createElement("p",{className:"definition-format-example"},"unit,mL"),a.a.createElement("textarea",{spellCheck:"false",value:this.state.unitDefinitions,onChange:this.handleUnitDefinitionChange})),a.a.createElement("div",{className:"ingredient-definition-input"},a.a.createElement("h2",null,"Ingredient definitions"),a.a.createElement("p",{className:"definition-format-example"},"ingredient,density"),a.a.createElement("textarea",{spellCheck:"false",value:this.state.ingredientDefinitions,onChange:this.handleIngredientDefinitionChange})),a.a.createElement(v,{value:this.props.lines,ingredientDefinitions:this.deserializeIngredientDefinitions(this.state.ingredientDefinitions),unitDefinitions:this.deserializeUnitDefinitions(this.state.unitDefinitions)}))}}]),n}(a.a.Component)),b=function(e){function n(){return Object(o.a)(this,n),Object(c.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(l.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=D.defaultIngredientDefinitions.map(function(e){return e.name+","+e.density}).join("\n"),n=D.defaultUnitDefinitions.map(function(e){return e.unit+","+e.mL}).join("\n");return a.a.createElement("div",null,a.a.createElement("h1",null,"Recipe Converter"),a.a.createElement(E,{lines:"1/2c butter\n1.2c water\n1c malk\n1x butter\n1/0c water\n1BAD_DEFN water\n1c BAD_DEFN\nnonsense",ingredientDefinitions:e,unitDefinitions:n}))}}]),n}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[13,2,1]]]);
//# sourceMappingURL=main.3ce49d6a.chunk.js.map